import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as x}from"./index.JXKNaeUN.js";const s=[{id:"free",name:"Free",price:"$0",features:["Access to free articles","Community access","Weekly newsletter"],cta:"Current Plan",current:!0},{id:"pro",stripePriceId:"price_1Q...",name:"Pro Member",price:"$19/mo",features:["Unlimited premium articles","Exclusive clinical cases","CE Credits included","Priority support"],cta:"Upgrade to Pro",popular:!0}];function m({user:n,subscription:c}){const[a,l]=x.useState(null),d=async t=>{if(!n){window.location.href="/login";return}l(t);try{const r=await(await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:t})})).json();r.url?window.location.href=r.url:alert("Error initiating checkout: "+r.error)}catch(o){console.error(o),alert("Checkout failed")}finally{l(null)}},i=c?.status==="active";return e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-[32px] p-8 shadow-sm border border-gray-100 flex flex-col",children:[e.jsx("h3",{className:"font-tuio text-2xl uppercase text-tuio-navy mb-2",children:"Free"}),e.jsxs("div",{className:"text-4xl font-bold text-tuio-navy mb-6",children:["$0",e.jsx("span",{className:"text-lg text-gray-400 font-normal",children:"/mo"})]}),e.jsx("ul",{className:"space-y-4 mb-8 flex-grow",children:s[0].features.map(t=>e.jsxs("li",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx("span",{className:"text-green-500",children:"✓"})," ",t]}))}),e.jsx("button",{className:"w-full py-3 rounded-full font-bold uppercase tracking-wide border-2 border-gray-200 text-gray-400 cursor-not-allowed",children:i?"Downgrade":"Current Plan"})]}),e.jsxs("div",{className:"bg-tuio-navy rounded-[32px] p-8 shadow-xl border border-tuio-navy flex flex-col relative overflow-hidden text-white",children:[e.jsx("div",{className:"absolute top-0 right-0 bg-tuio-red text-white text-xs font-bold px-3 py-1 rounded-bl-xl uppercase tracking-wider",children:"Popular"}),e.jsx("h3",{className:"font-tuio text-2xl uppercase mb-2",children:"Pro Member"}),e.jsxs("div",{className:"text-4xl font-bold mb-6",children:["$19",e.jsx("span",{className:"text-lg text-white/60 font-normal",children:"/mo"})]}),e.jsx("ul",{className:"space-y-4 mb-8 flex-grow",children:s[1].features.map(t=>e.jsxs("li",{className:"flex items-center gap-2 text-white/90",children:[e.jsx("span",{className:"text-tuio-red bg-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:"✓"})," ",t]}))}),i?e.jsx("div",{className:"w-full py-3 bg-green-500 text-white rounded-full font-bold uppercase tracking-wide text-center",children:"Active"}):e.jsx("button",{onClick:()=>d(s[1].stripePriceId),disabled:!!a,className:"w-full py-3 bg-tuio-red text-white rounded-full font-bold uppercase tracking-wide hover:bg-white hover:text-tuio-red transition-all",children:a?"Processing...":"Upgrade Now"})]})]})}export{m as default};
