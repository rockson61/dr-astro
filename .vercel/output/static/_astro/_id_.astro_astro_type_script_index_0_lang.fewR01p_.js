import{c as g}from"./supabase.svVmE_Zl.js";const l=g(),r=document.querySelector("form"),e=r?.querySelector('button[type="submit"]');r?.addEventListener("submit",async s=>{if(s.preventDefault(),!e||!r.dataset.productId)return;const c=e.textContent;e.textContent="Saving...",e.disabled=!0;const t=new FormData(r),i=t.get("name"),d=t.get("price"),u=t.get("description"),m=t.get("category"),p=t.get("status"),a=t.get("image_url");try{const o=a?[a]:[],{error:n}=await l.from("products").update({name:i,price:d,description:u,category:m,status:p,images:o,updated_at:new Date().toISOString()}).eq("id",r.dataset.productId);if(n)throw n;window.location.href="/dashboard/my-products"}catch(o){console.error(o),alert("Error updating product: "+o.message),e.textContent=c,e.disabled=!1}});
