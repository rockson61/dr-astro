import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.JXKNaeUN.js";import{C as d}from"./circle-check-big.B_c9Grz5.js";import{c as p}from"./createLucideIcon.BhldaWgv.js";import{C as x}from"./circle-alert.B0_e307_.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],f=p("send",h);function N(){const[i,c]=o.useState(""),[s,a]=o.useState("idle"),[l,n]=o.useState(""),m=async r=>{r.preventDefault(),a("loading");try{const t=await fetch("/api/newsletter/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i})}),u=await t.json();if(!t.ok)throw new Error(u.error||"Subscription failed");a("success"),n("Subscribed successfully!"),c("")}catch(t){a("error"),n(t.message)}};return e.jsxs("form",{onSubmit:m,className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",value:i,onChange:r=>c(r.target.value),placeholder:"Enter your email",required:!0,disabled:s==="loading"||s==="success",className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50"}),e.jsx("button",{type:"submit",disabled:s==="loading"||s==="success",className:"absolute right-1 top-1 bottom-1 bg-primary-500 text-white px-3 rounded-md hover:bg-primary-600 transition-colors disabled:opacity-50 flex items-center justify-center",children:s==="loading"?e.jsx("div",{className:"w-4 h-4 border-2 border-tuio-navy border-t-transparent rounded-full animate-spin"}):s==="success"?e.jsx(d,{className:"w-4 h-4"}):e.jsx(f,{className:"w-4 h-4"})})]}),s==="error"&&e.jsxs("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[e.jsx(x,{className:"w-3 h-3"})," ",l]}),s==="success"&&e.jsxs("p",{className:"text-xs text-green-400 flex items-center gap-1",children:[e.jsx(d,{className:"w-3 h-3"})," ",l]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Join 10,000+ dental professionals. No spam, ever."})]})}export{N as default};
