---
/**
 * ShareButtons - Social media share buttons
 * 
 * Props:
 * - url: string - URL to share
 * - title: string - Title for share text
 * - class: string - Additional classes
 */

interface Props {
    url: string;
    title: string;
    class?: string;
}

const { url, title, class: className = '' } = Astro.props;

// Encode for URLs
const encodedUrl = encodeURIComponent(url);
const encodedTitle = encodeURIComponent(title);
---

<div class={`flex items-center gap-3 ${className}`}>
    <span class="text-sm font-bold text-gray-400 uppercase tracking-wider">Share</span>
    
    <!-- Twitter/X -->
    <a 
        href={`https://twitter.com/intent/tweet?url=${encodedUrl}&text=${encodedTitle}`}
        target="_blank"
        rel="noopener noreferrer"
        class="w-10 h-10 rounded-full bg-tuio-bg hover:bg-tuio-navy text-gray-500 hover:text-white flex items-center justify-center transition-all"
        aria-label="Share on Twitter"
    >
        ùïè
    </a>
    
    <!-- LinkedIn -->
    <a 
        href={`https://www.linkedin.com/shareArticle?mini=true&url=${encodedUrl}&title=${encodedTitle}`}
        target="_blank"
        rel="noopener noreferrer"
        class="w-10 h-10 rounded-full bg-tuio-bg hover:bg-[#0077B5] text-gray-500 hover:text-white flex items-center justify-center transition-all"
        aria-label="Share on LinkedIn"
    >
        in
    </a>
    
    <!-- Facebook -->
    <a 
        href={`https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}`}
        target="_blank"
        rel="noopener noreferrer"
        class="w-10 h-10 rounded-full bg-tuio-bg hover:bg-[#1877F2] text-gray-500 hover:text-white flex items-center justify-center transition-all"
        aria-label="Share on Facebook"
    >
        f
    </a>
    
    <!-- WhatsApp -->
    <a 
        href={`https://wa.me/?text=${encodedTitle}%20${encodedUrl}`}
        target="_blank"
        rel="noopener noreferrer"
        class="w-10 h-10 rounded-full bg-tuio-bg hover:bg-[#25D366] text-gray-500 hover:text-white flex items-center justify-center transition-all"
        aria-label="Share on WhatsApp"
    >
        üì±
    </a>
    
    <!-- Copy Link -->
    <button 
        id="copy-link-btn"
        class="w-10 h-10 rounded-full bg-tuio-bg hover:bg-tuio-pink text-gray-500 hover:text-white flex items-center justify-center transition-all"
        aria-label="Copy link"
        data-url={url}
    >
        üîó
    </button>
</div>

<script>
    const copyBtn = document.getElementById('copy-link-btn');
    copyBtn?.addEventListener('click', async () => {
        const url = copyBtn.getAttribute('data-url') || window.location.href;
        await navigator.clipboard.writeText(url);
        // Show toast if available
        if (window.showToast) {
            window.showToast('Link copied to clipboard!', 'success');
        }
    });
</script>
